<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Socket.IO ì±„íŒ… í…ŒìŠ¤íŠ¸</title>
</head>
<body>
<h2>ğŸ’¬ ì‹¤ì‹œê°„ ì±„íŒ… í…ŒìŠ¤íŠ¸</h2>
<div id="chat" style="border: 1px solid #ccc; padding: 10px; width: 300px; height: 200px; overflow-y: scroll;"></div>

<input id="messageInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”" style="width: 200px;" />
<button onclick="sendMessage()">ì „ì†¡</button>

<!-- âœ… Socket.IO í´ë¼ì´ì–¸íŠ¸ CDN -->
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script>
    // ì„œë²„ì— ì—°ê²°
    const socket = io('http://localhost:4000');

    // ì±„íŒ…ë°© ID ì˜ˆì‹œ
    const roomId = '123';

    // ë°© ì…ì¥
    socket.emit('joinRoom', roomId);

    // ì„œë²„ë¡œë¶€í„° ë©”ì‹œì§€ ìˆ˜ì‹ 
    socket.on('receiveMessage', (message) => {
        const chat = document.getElementById('chat');
        const msg = document.createElement('div');
        msg.textContent = 'ğŸ“¥ ' + message;
        chat.appendChild(msg);
    });

    // ë©”ì‹œì§€ ì „ì†¡ í•¨ìˆ˜
    function sendMessage() {
        const input = document.getElementById('messageInput');
        const message = input.value;
        if (message.trim()) {
            socket.emit('sendMessage', { roomId, message });
            input.value = '';
        }
    }
</script>
</body>
</html>